---
title: Cuisine Classifier
layout: page
---
<input id="photo" type="file" accept="image/*">
<div id="results"></div>

<script>
  async function loaded(reader) {   
      const response = await fetch("https://soothsayer1221-cuisine-classifier-gradio-3-50-0.hf.space/run/predict", {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify({ data: [reader.result] }) // Send the base64 image
      });
      const json = await response.json();
      // Assuming the response structure has a label and confidences array
      const label = json['data'][0]['label']; // Access the label directly
      // Prepare the result HTML
      let resultsHTML = `<br/> <img src="${reader.result}" width="500"> <p>Predicted Cuisine: ${label}</p>`;
      
      document.getElementById("results").innerHTML = resultsHTML;
  }
  function read() {
      const reader = new FileReader();
      reader.addEventListener('load', () => loaded(reader));
      reader.readAsDataURL(photo.files[0]);
  }
  document.getElementById("photo").addEventListener('input', read);
</script>


<!-- <script>
  async function loaded(reader) {   
  const response = await fetch("https://msideadman-cap-recognizer.hf.space/run/predict", {
      method: "POST", headers: { "Content-Type": "application/json" },
      body: JSON.stringify({data: [reader.result]})});
  const json = await response.json();
  const label = json['data'][0]['label'];
  results.innerHTML = `<br/> <img src = "${reader.result}" width="500"> <p>${label}</p>`;
  }
  function read() {
      const reader = new FileReader();
      reader.addEventListener('load', () => loaded(reader))
      reader.readAsDataURL(photo.files[0]);
  }
  photo.addEventListener('input', read);
</script> -->