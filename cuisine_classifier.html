<!-- ---
title: Cuisine Classifier
layout: page
---
<input id="photo" type="file" accept="image/*">
<div id="results"></div> -->


---
title: Cuisine Classifier
layout: page
---

# üç≤ Cuisine Classifier

Upload an image of your favorite dish below, and let our classifier predict its cuisine. The model recognizes a variety of international cuisines!

---

## üì∑ Upload Your Dish:

Simply select an image of your dish, and we will classify it for you.

<div style="margin-top: 20px; text-align: center;">
  <input id="photo" type="file" accept="image/*" style="font-size: 1.2em; padding: 10px; margin-bottom: 20px;">
</div>

<div id="results" style="display: flex; justify-content: center; align-items: center; font-size: 1.2em; margin-top: 20px;">
  <!-- Result will be displayed here -->
</div>

---

## üçΩ How It Works:

1. **Choose an image**: Upload a photo of a dish from your device.
2. **Get a prediction**: The Cuisine Classifier will analyze the image and predict the cuisine.
3. **Explore more**: Try different dishes to discover their origins.

Once you upload your image, the predicted cuisine will appear next to it below.

---

<script>
  async function loaded(reader) {   
      const response = await fetch("https://soothsayer1221-cuisine-classifier-gradio-3-50-0.hf.space/run/predict", {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify({ data: [reader.result] }) // Send the base64 image
      });
      const json = await response.json();
      // Assuming the response structure has a label and confidences array
      const label = json['data'][0]['label']; // Access the label directly
      // Prepare the result HTML
      let resultsHTML = `<br/> <img src="${reader.result}" width="500"> <p>Predicted Cuisine: ${label}</p>`;
      
      document.getElementById("results").innerHTML = resultsHTML;
  }
  function read() {
      const reader = new FileReader();
      reader.addEventListener('load', () => loaded(reader));
      reader.readAsDataURL(photo.files[0]);
  }
  document.getElementById("photo").addEventListener('input', read);
</script>


<!-- <script>
  async function loaded(reader) {   
  const response = await fetch("https://msideadman-cap-recognizer.hf.space/run/predict", {
      method: "POST", headers: { "Content-Type": "application/json" },
      body: JSON.stringify({data: [reader.result]})});
  const json = await response.json();
  const label = json['data'][0]['label'];
  results.innerHTML = `<br/> <img src = "${reader.result}" width="500"> <p>${label}</p>`;
  }
  function read() {
      const reader = new FileReader();
      reader.addEventListener('load', () => loaded(reader))
      reader.readAsDataURL(photo.files[0]);
  }
  photo.addEventListener('input', read);
</script> -->